{"version":3,"sources":["components/TimetibleToday/Timetible.module.css","components/DateChecker/DateChecker.module.css","components/NavButtons/NavButtons.module.css","helpers/index.js","components/TimetibleToday/Timetible.jsx","components/DateChecker/DateChecker.jsx","api/index.js","constants/index.js","components/Departure/Departure.jsx","components/Arrival/Arrival.jsx","components/NavButtons/NavButtons.jsx","components/App/App.jsx","index.js"],"names":["module","exports","container","table","span","item","default","activeLink","list","getData","date","Date","getDate","slice","getMonth","getFullYear","join","getTomorrow","tomorrow","setDate","getYesterday","mapper","articles","away","dateKey","map","el","ID","term","airportToID","status","codeShare","Object","slicedToArray","codeShareData","time","name","airline","en","console","log","id","city","company","flight","Timetible","_ref","react_default","a","createElement","className","style","header","_ref2","key","data-label","data-foo","getHours","getMinutes","getTime","DateChecker","onClick","getDepartures","axios","get","concat","Departure","state","error","onChangeDayFilter","type","then","response","_this","setState","data","body","departure","catch","_this2","this","_this$state","components_DateChecker_DateChecker","message","TimetibleToday_Timetible","Component","Arrival","arrival","NavButtons","react_router_dom","exact","activeClassName","to","fontSize","App","react","components_NavButtons_NavButtons","react_router","path","component","ReactDOM","render","components_App_App","document","getElementById"],"mappings":"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","file":"static/js/main.a1184af2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Timetible_container__3d_EU\",\"table\":\"Timetible_table__2xp8l\",\"span\":\"Timetible_span__GrA0x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"DateChecker_container__1kuZx Timetible_container__3d_EU\",\"item\":\"DateChecker_item__3SHcW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"default\":\"NavButtons_default__27EKS\",\"activeLink\":\"NavButtons_activeLink__2BTi7\",\"list\":\"NavButtons_list__tWTQ8\",\"container\":\"NavButtons_container__2VuVF Timetible_container__3d_EU\"};","export const getData = () => {\r\n  let date = new Date();\r\n\r\n  let dateString = [\r\n    (\"0\" + date.getDate()).slice(-2),\r\n    (\"0\" + (date.getMonth()+1)).slice(-2), \r\n    date.getFullYear()\r\n  ].join(\"-\");\r\n  return dateString;\r\n};\r\n\r\nexport const getTomorrow = () => {\r\n  let tomorrow = new Date();\r\n\r\n  tomorrow.setDate(tomorrow.getDate()+1);\r\n\r\n  let tomorrowString = [\r\n    (\"0\" + tomorrow.getDate()).slice(-2),\r\n    (\"0\" + (tomorrow.getMonth()+1)).slice(-2), \r\n    tomorrow.getFullYear()\r\n  ].join(\"-\");\r\n  return tomorrowString;\r\n};\r\n\r\nexport const getYesterday = () => {\r\n  let tomorrow = new Date();\r\n\r\n  tomorrow.setDate(tomorrow.getDate()-1);\r\n\r\n  let tomorrowString = [\r\n    (\"0\" + tomorrow.getDate()).slice(-2),\r\n    (\"0\" + (tomorrow.getMonth()+1)).slice(-2), \r\n    tomorrow.getFullYear()\r\n  ].join(\"-\");\r\n  return tomorrowString;\r\n};\r\n\r\n\r\nexport const getTime = (time) => {\r\n  if (time) {\r\n      let date = new Date(time);\r\n      let dateString = [\r\n      (\"0\" + (date.getHours()+1)).slice(-2), \r\n      (\"0\" + date.getMinutes()).slice(-2)\r\n      ].join(\":\");\r\n      return dateString;\r\n  }\r\n  return 'coming soon';\r\n};\r\n\r\n\r\nexport const mapper = (articles, away, dateKey) => {\r\n    return articles.map((el) => {\r\n      const {ID, term, [away]: airportToID, status, codeShareData: [{codeShare}]} = el;\r\n      const time = el[dateKey];\r\n      const name = el.airline &&  el.airline.en &&  el.airline.en.name;\r\n      console.log(name);\r\n      return ({\r\n        id: ID,\r\n        term: term,\r\n        time: time,\r\n        city: airportToID,\r\n        status: status,\r\n        company: name,\r\n        flight: codeShare\r\n      });\r\n    }); \r\n  };","import React from 'react';\r\nimport style from './Timetible.module.css';\r\nimport { getTime } from '../../helpers'\r\n\r\nconst Timetible = ({articles}) => (\r\n    <section className={style.container}>\r\n        <table className={style.table}>\r\n            <thead>\r\n                <tr className={style.header}>\r\n                    <th>Терминал</th>\r\n                    <th>Время</th>\r\n                    <th>Место назначения</th>\r\n                    <th>Авиакомпания</th>\r\n                    <th>Рейс</th>\r\n                    <th>Статус</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n            {articles.map(({id, term, time, city, status, company, flight}) => (\r\n                <tr key={id}>\r\n                    <td data-label=\"Терминал\" data-foo={term}><span className={style.span}>{term}</span></td>\r\n                    <td data-label=\"Время\">{getTime(time)}</td>\r\n                    <td data-label=\"Место назначения\">{city}</td>\r\n                    <td data-label=\"Авиакомпания\">{company}</td>\r\n                    <td data-label=\"Рейс\"># {flight}</td>\r\n                    <td data-label=\"Статус\">{status}</td>\r\n                </tr>\r\n            ))}\r\n            </tbody>\r\n        </table>\r\n    </section>\r\n);\r\n\r\nexport default Timetible","import React from 'react';\r\nimport style from './DateChecker.module.css';\r\n\r\nconst DateChecker = ({onClick}) => (\r\n    <section className={style.container}>\r\n        <div className={style.item} onClick={() => onClick('yesterday')}>Вчера</div>\r\n        <div className={style.item} onClick={() => onClick('today')}>Сегодня</div>\r\n        <div className={style.item} onClick={() => onClick('tomorrow')}>Завтра</div>\r\n    </section>\r\n)\r\n\r\nexport default DateChecker;","import axios from 'axios';\r\nimport { API_URL } from '../constants';\r\n\r\nexport const getDepartures = (date) => {\r\n   return axios.get(`${API_URL}/${date}`);\r\n};","\r\nexport const API_URL = `https://api.iev.aero/api/flights`;\r\n","import React, { Component } from 'react';\r\nimport Timetible from '../TimetibleToday/Timetible';\r\nimport DateChecker from '../DateChecker/DateChecker';\r\nimport { getDepartures } from '../../api';\r\nimport { mapper, getData, getTomorrow, getYesterday } from '../../helpers';\r\n\r\n  class Departure extends Component {\r\n  \r\n    state = {\r\n      articles: [], \r\n      error: null\r\n    }\r\n  \r\n    componentDidMount() {\r\n      getDepartures(getData())\r\n      .then(response =>\r\n        this.setState({articles: mapper(response.data.body.departure, 'airportToID.city', 'timeBoard'), \r\n        }) \r\n      )\r\n      .catch(error => this.setState({ error }));\r\n    }\r\n\r\n    onChangeDayFilter = (type) => {\r\n      let date;\r\n\r\n      if ( type === 'today')  {\r\n        date = getData();\r\n      } else if (type === 'tomorrow') {\r\n        date = getTomorrow();\r\n      } else {\r\n        date = getYesterday();\r\n      }\r\n\r\n      getDepartures(date)\r\n      .then(response =>\r\n        this.setState({articles: mapper(response.data.body.departure, 'airportToID.city', 'timeBoard'), \r\n        }) \r\n      )\r\n      .catch(error => this.setState({error}))\r\n    }\r\n  \r\n    render() {\r\n      const { articles, error } = this.state;\r\n\r\n      return (\r\n        <div>\r\n            <DateChecker onClick={this.onChangeDayFilter}/>\r\n            {error && <p>{error.message}</p>}\r\n            <Timetible articles={articles}/>\r\n        </div> \r\n      ) \r\n    }\r\n  }\r\n\r\nexport default Departure;\r\n","import React, { Component } from 'react';\r\nimport Timetible from '../TimetibleToday/Timetible';\r\nimport DateChecker from '../DateChecker/DateChecker';\r\nimport { getDepartures } from '../../api';\r\nimport { mapper, getData, getTomorrow, getYesterday } from '../../helpers';\r\n\r\n  \r\n  class Arrival extends Component {\r\n  \r\n    state = {\r\n      articles: [], \r\n      error: null,\r\n    }\r\n  \r\n    componentDidMount() {\r\n      getDepartures(getData())\r\n      .then(response =>\r\n        this.setState({articles: mapper(response.data.body.arrival, \"airportFromID.city\", 'timeToStand'), \r\n        }) \r\n      )\r\n      .catch(error => console.log(error))\r\n    }\r\n\r\n    onChangeDayFilter = (type) => {\r\n      let date;\r\n\r\n      if ( type === 'today')  {\r\n        date = getData();\r\n      } else if (type === 'tomorrow') {\r\n        date = getTomorrow();\r\n      } else {\r\n        date = getYesterday();\r\n      }\r\n\r\n      getDepartures(date)\r\n        .then(response =>\r\n          this.setState({articles: mapper(response.data.body.arrival, \"airportFromID.city\", 'timeToStand'), \r\n          }) \r\n        )\r\n        .catch(error => this.setState({error}))\r\n    }\r\n  \r\n    render() {\r\n      const { articles, error } = this.state;\r\n\r\n      return (\r\n        <div>\r\n          <DateChecker onClick={this.onChangeDayFilter}/>\r\n          {error && <p>{error.message}</p>}\r\n          <Timetible articles={articles}/>\r\n        </div>\r\n        \r\n      ) \r\n    }\r\n  }\r\n\r\nexport default Arrival;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport style from './NavButtons.module.css';\r\nimport '../../fontello/css/fontello.css';\r\n\r\nconst NavButtons = () => (\r\n    <section className={style.container}>\r\n      <div className={style.container}>\r\n        <NavLink exact activeClassName={style.activeLink} className={style.default} to=\"/\">\r\n            <div className={style.list}>\r\n                <i className=\"icon-departures\" style={{ fontSize: \"34px\" }} />\r\n                <p>Вылет</p>\r\n            </div>\r\n        </NavLink>\r\n        <NavLink activeClassName={style.activeLink} className={style.default} to='/arrival'>\r\n            <div className={style.list}>\r\n                <i className=\"icon-departures\" style={{ fontSize: \"34px\" }} />\r\n                <p>Прилет</p>\r\n            </div>\r\n        </NavLink>\r\n      </div>\r\n    </section>\r\n  )\r\n\r\n  export default NavButtons;","import React, { Fragment } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Departure from '../Departure/Departure';\nimport Arrival from '../Arrival/Arrival.jsx';\nimport './App.css';\n\nimport NavButtons from \"../NavButtons/NavButtons\";\n\nconst App =() => (\n  <Fragment>\n    <Router>\n      <NavButtons/>\n      \n      <Switch>\n        <Route exact path='/' component={Departure}/>\n        <Route path='/arrival' component={Arrival}/>\n      </Switch>\n    </Router>\n  </Fragment>\n)\n\nexport default App;\n ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}